<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Mirage | Mirage API Reference </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Mirage | Mirage API Reference ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/JaCraig/Mirage/blob/master/docfx_project/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="images/icon.png" alt="Mirage">
            Mirage
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="mirage">Mirage</h1>

<p><a href="https://github.com/JaCraig/Mirage/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/Mirage/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a> <a href="https://coveralls.io/github/JaCraig/Mirage?branch=master"><img src="https://coveralls.io/repos/github/JaCraig/Mirage/badge.svg?branch=master" alt="Coverage Status"></a></p>
<p>Mirage is an open source library for .Net designed to create random data for POCOs, unit tests, etc. Supports .Net Core as well as full .Net.</p>
<h2 id="setting-up-the-library">Setting Up the Library</h2>
<p>Mirage relies on <a href="https://github.com/JaCraig/Canister">Canister</a> in order to hook itself up. In order for this to work, you must do the following at startup:</p>
<pre><code>var MyServices = new ServiceCollection();
...
MyServices.AddCanisterModules();  // Should be last call in order to find any services that you might have added manually.
                                  // Any services added after this may not be found by the system.
				
</code></pre>
<p>When this is done, Mirage is ready to use.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>The main class of interest is the Random class:</p>
<pre><code>Mirage.Random RandomObj = new Mirage.Random();
</code></pre>
<p>This class has a number of helper functions including a generic Next function:</p>
<pre><code>RandomObj.Next&lt;short&gt;();
RandomObj.Next&lt;float&gt;();
RandomObj.Next&lt;TimeSpan&gt;();
</code></pre>
<p>You can also Specify a number of items that you want returned:</p>
<pre><code>var MyList = RandomObj.Next&lt;short&gt;(4);
</code></pre>
<p>The MyList object would contain four shorts. You can similarly pull a random item from a list:</p>
<pre><code>var Item = RandomObj.Next(MyList);
</code></pre>
<p>This would return a random short from the MyList object specified above. Or you can simply shuffle a list into a random order:</p>
<pre><code>MyList = RandomObj.Shuffle(MyList);
</code></pre>
<p>There is also a thread safe version of Next that is available:</p>
<pre><code>var RandomValue=RandomObj.ThreadSafeNext();
</code></pre>
<p>Lastly you can randomly generate an entire class as needed:</p>
<pre><code>public class RandomTestClass
{
    [IntGenerator(-100, 100)]
    public int A { get; set; }

    [LoremIpsum]
    public string B { get; set; }

    [FloatGenerator(0, 1)]
    public float C { get; set; }

    [IntGenerator(1, 100)]
    public int D { get; set; }
}

...

var Rand = new Mirage.Random();
var Class = Rand.Next&lt;RandomTestClass&gt;();
</code></pre>
<p>This will create an object of the type specified and randomly assign values to the properties based on the attributes placed on them. The system has one for all of the basic types as well as a number of string generators including:</p>
<ol>
<li>Company</li>
<li>Full Address</li>
<li>City</li>
<li>Domain name</li>
<li>Email address</li>
<li>Phone number</li>
<li>State abbreviation</li>
<li>State</li>
<li>Zip Code</li>
<li>Street Address</li>
<li>Female/male first name</li>
<li>Last name</li>
<li>Female/Male name</li>
<li>Female/male prefix</li>
<li>Name suffix</li>
<li>Full name generator that is male/female/either</li>
<li>Lorem Ipsum</li>
<li>Pattern based</li>
<li>Regex based</li>
<li><a href="https://github.com/minimaxir/big-list-of-naughty-strings">&quot;Problem&quot; strings</a></li>
</ol>
<h2 id="adding-your-own-generator">Adding Your Own Generator</h2>
<p>You may wish to create your own random generator or replace one that is already in the system. In order to do this simply create a class that implements the IGenerator class. Simply specify in the class what type it generates and the system will either add it to the list of generators or replace the existing one with your own. As long as you either don't specify which modules to load or include your target assembly when calling AddCanisterModules, the system will then pick it up automatically and call it as requested. Similarly if you wish for it to be picked up when generating a class, make sure your class inherits from GeneratorAttributeBase. If it does, the random class generation will pick it up.</p>
<h2 id="installation">Installation</h2>
<p>The library is available via Nuget with the package name &quot;Mirage&quot;. To install it run the following command in the Package Manager Console:</p>
<p>Install-Package Mirage</p>
<h2 id="build-process">Build Process</h2>
<p>In order to build the library you will require the following:</p>
<ol>
<li>Visual Studio 2017</li>
</ol>
<p>Other than that, just clone the project and you should be able to load the solution and build without too much effort.</p>
<h2 id="other-info">Other Info</h2>
<p>The problem strings generator is based off of the Max Woolf's <a href="https://github.com/minimaxir/big-list-of-naughty-strings">&quot;Big List of Naughty Strings&quot;</a> which is MIT licensed.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/JaCraig/Mirage/blob/master/docfx_project/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <strong><a href='https://github.com/JaCraig/Mirage'>Open in Github</a></strong>
        </div>
      </div>
    </footer>
  </body>
</html>
